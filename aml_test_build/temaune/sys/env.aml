// Модуль для роботи з системою
import_py { plugins\system as system, base }

// Отримує значення змінної оточення
func get_env(name, default=null) {
    var envs = system.env_get_all()
    if (base.has_key(envs, name)) {
        return envs[name]
    }
    return default
}

// Встановлює значення змінної оточення (використовує setx на Windows)
func set_env(name, value) {
    // system.py поки не має env_set, але ми можемо використати run() для встановлення
    // або додати функцію в system.py. Припустимо вона є або додамо.
    // Наразі просто заглушка або виклик команди
    system.run("setx " + name + " " + base.to_str(value))
}

// Запускає команду в системній оболонці
func run(cmd) {
    return system.run(cmd)
}

// Повертає назву операційної системи (windows або unix)
func os_name() {
    var name = system.get_os_name()
    if (name == "nt") {
        return "windows"
    }
    return "unix"
}

// Зупиняє виконання на вказану кількість мілісекунд
func sleep(ms) {
    base.sleep_millis(ms)
}

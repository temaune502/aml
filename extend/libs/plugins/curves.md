# Документація до модуля `curves`

Модуль `curves` надає математичні функції для роботи з кривими, інтерполяцією та генерацією складних траєкторій руху. Використовується для реалістичного та природного руху миші в модулі `automation`.

---

## Функції еasing (згладжування)

### linear(t)
- **Аргументи:** `t` — параметр 0..1
- **Повертає:** float (0..1). Лінійна інтерполяція.

### ease_in_quad(t), ease_out_quad(t), ease_in_out_quad(t)
- **Аргументи:** `t` — параметр 0..1
- **Повертає:** float (0..1). Квадратичне згладжування (in/out/both).

### ease_in_cubic(t), ease_out_cubic(t), ease_in_out_cubic(t)
- **Аргументи:** `t` — параметр 0..1
- **Повертає:** float (0..1). Кубічне згладжування.

### ease_in_sin(t), ease_out_sin(t), ease_in_out_sin(t)
- **Аргументи:** `t` — параметр 0..1
- **Повертає:** float (0..1). Синусоїдальне згладжування.

---

## Інтерполяція точок

### lerp(p0, p1, t)
- **Аргументи:**
    - `p0`, `p1` — точки (x, y)
    - `t` — параметр 0..1
- **Повертає:** точка (x, y). Лінійна інтерполяція між двома точками.

### quadratic_bezier(p0, p1, p2, t)
- **Аргументи:**
    - `p0`, `p1`, `p2` — контрольні точки (x, y)
    - `t` — параметр 0..1
- **Повертає:** точка (x, y). Квадратична крива Безьє.

### cubic_bezier(p0, p1, p2, p3, t)
- **Аргументи:**
    - `p0`, `p1`, `p2`, `p3` — контрольні точки (x, y)
    - `t` — параметр 0..1
- **Повертає:** точка (x, y). Кубічна крива Безьє.

### catmull_rom(p0, p1, p2, p3, t)
- **Аргументи:**
    - `p0`, `p1`, `p2`, `p3` — контрольні точки (x, y)
    - `t` — параметр 0..1
- **Повертає:** точка (x, y). Сплайн Катмулла-Рома (гладка крива через p1 та p2).

---

## Генерація траєкторій

### interpolate_path(points, steps_per_segment=10, curve_type='catmull')
- **Аргументи:**
    - `points` — список точок [(x1, y1), (x2, y2), ...]
    - `steps_per_segment` — кроків інтерполяції між послідовними точками
    - `curve_type` — 'linear', 'quadratic', 'cubic', 'catmull'
- **Повертає:** список інтерпольованих точок.

### sine_wave(start, end, amplitude=50, frequency=2, steps=100)
- **Аргументи:**
    - `start`, `end` — початкова та кінцева точки (x, y)
    - `amplitude` — амплітуда хвилі (пікселі)
    - `frequency` — кількість коливань
    - `steps` — кількість точок для генерації
- **Повертає:** список точок траєкторії синусоїди.

### spiral_path(center, start_radius=10, end_radius=100, turns=2, steps=100)
- **Аргументи:**
    - `center` — центр спіралі (x, y)
    - `start_radius`, `end_radius` — стартовий та кінцевий радіус (пікселі)
    - `turns` — кількість повних обертів
    - `steps` — кількість точок
- **Повертає:** список точок траєкторії спіралі.

### circle_path(center, radius, steps=100, start_angle=0, end_angle=360)
- **Аргументи:**
    - `center` — центр кола (x, y)
    - `radius` — радіус (пікселі)
    - `steps` — кількість точок
    - `start_angle`, `end_angle` — межі дуги (градуси)
- **Повертає:** список точок круговий дуги.

### random_walk_path(start, step_size=10, steps=50, bounds=None)
- **Аргументи:**
    - `start` — початкова точка (x, y)
    - `step_size` — макс. переміщення за крок (пікселі)
    - `steps` — кількість кроків
    - `bounds` — межі ((min_x, min_y), (max_x, max_y)) або None
- **Повертає:** список точок випадкового маршруту.

### zigzag_path(start, end, amplitude=30, zigzags=5, steps=100)
- **Аргументи:**
    - `start`, `end` — початкова та кінцева точки (x, y)
    - `amplitude` — амплітуда зигзагу (пікселі)
    - `zigzags` — кількість зигзагів
    - `steps` — кількість точок
- **Повертає:** список точок зигзагоподібної траєкторії.

### gaussian_noise_path(start, end, sigma=20, steps=100)
- **Аргументи:**
    - `start`, `end` — початкова та кінцева точки (x, y)
    - `sigma` — стандартне відхилення гаусівського шуму (пікселі)
    - `steps` — кількість точок
- **Повертає:** список точок прямої лінії з доданим шумом.

### composite_path(start, end, primary_pattern='sine', secondary_noise=5, steps=100)
- **Аргументи:**
    - `start`, `end` — початкова та кінцева точки (x, y)
    - `primary_pattern` — 'sine', 'zigzag', 'random_walk', 'spiral'
    - `secondary_noise` — сигма вторинного шуму (0 = без шуму)
    - `steps` — кількість точок
- **Повертає:** список точок комбінованої траєкторії (первинний + шум).

---

## Аналіз траєкторій

### path_length(points)
- **Аргументи:**
    - `points` — список точок [(x1, y1), (x2, y2), ...]
- **Повертає:** float. Загальна довжина шляху (сума відстаней між точками).

### path_velocity(points, time_steps)
- **Аргументи:**
    - `points` — список точок
    - `time_steps` — список часових інтервалів між точками
- **Повертає:** список значень швидкості (пікселі/кадр).

### resample_path(points, total_distance)
- **Аргументи:**
    - `points` — список точок
    - `total_distance` — цільова загальна довжина шляху
- **Повертає:** переискавлений список точок з рівномірною швидкістю.

---

## Примітки
- Всі координати подаються у вигляді кортежів (x, y).
- Параметр `t` у функціях інтерполяції має бути в діапазоні 0..1.
- Для реалістичного руху рекомендується використовувати `catmull_rom` та `composite_path`.
- Функції генерації траєкторій можна комбінувати для створення складніших патернів.
